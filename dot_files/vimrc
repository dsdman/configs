" basic features of vim
set shortmess=I "disable welcome screen
set showmatch "highlight matching () and {} and []
set t_Co=256 "256 color
set number "line numbers
set relativenumber
set ruler "ruler
set laststatus=2 "don't waste space by showing whole statusline
set showmode "show mode you are in
set mouse=a "mouse 
set noswapfile "disable swap file
set splitright "split right
set splitbelow "split below
set encoding=utf-8 "enable unicode encoding
filetype on
filetype plugin indent on
filetype plugin on
set completefunc=syntaxcomplete#Complete
set omnifunc=syntaxcomplete#Complete

" tab completion
set complete=k "Global autocomplete
set completeopt+=longest "show complete tab completions
set path +=** " tab-completion for everything
set wildmenu "display all matches when completing

" searching
set nohlsearch " disable highlight searches
set incsearch "enable increment search

" tabs and formatting
set tabstop=2 "make two columns the standard tab
set shiftwidth=2 "indent 2
set autoindent "Automatically indent
set softtabstop=2 "makes it work for backspace and delete
set expandtab "use spaces 
set backspace=indent,eol,start "make backspace complete

" leader bindings
set <F1>=<C-v><F1>
let mapleader = " "
nnoremap <leader>w :w<cr>
nnoremap <leader>W :w
nnoremap <leader>q :q!<cr>
nnoremap <leader>Q :q
nnoremap <leader>n :set hlsearch!<cr>
nnoremap <leader>g <C-G>
nnoremap <leader>r <C-R>
nnoremap <leader>R :Shell 
nnoremap <leader>te :tabedit 
nnoremap <leader>v :vsplit 
nnoremap <leader>h :split 
nnoremap <leader>s <C-W>w
nnoremap <leader>d <C-D>
nnoremap <leader>u <C-U>
nnoremap <leader>a :syntax off<cr>
nnoremap <leader>A :syntax on<cr>
nnoremap <F1> :!st > /dev/null 2>&1 &<cr><cr>
"nnoremap <Leader>f :NERDTreeToggle<Enter>

" Move around splits and tabs easier
nnoremap <c-j> <c-w>j
nnoremap <c-k> <c-w>k
nnoremap <c-h> <c-w>h
nnoremap <c-l> <c-w>l
nnoremap <c-tab> gt
nnoremap <c-shift-tab> gT

" highlight line number
hi clear CursorLine
augroup CLClear
    autocmd! ColorScheme * hi clear CursorLine
augroup END
hi CursorLineNR cterm=bold ctermfg=255

" custom commands
command HexEdit execute "%!xxd"
command Hex2Text execute "%!xxd -r"

" Plugin stuff
call plug#begin('~/.config/nvim/plugged')
Plug 'https://github.com/vim-airline/vim-airline'
Plug 'https://github.com/vim-airline/vim-airline-themes'
Plug 'https://github.com/mkitt/tabline.vim'
Plug 'https://github.com/ternjs/tern_for_vim'
Plug 'https://github.com/Shougo/deoplete.nvim'
Plug 'https://github.com/carlitux/deoplete-ternjs'
Plug 'https://github.com/chriskempson/base16-vim'
call plug#end()

" configure airline and tabline
let g:airline_theme='base16_default'
hi TabLine      ctermfg=255  ctermbg=8     cterm=NONE
hi TabLineFill  ctermfg=255  ctermbg=8     cterm=NONE
hi TabLineSel   ctermfg=0    ctermbg=10    cterm=NONE

" deoplete config
let g:deoplete#enable_at_startup = 1
let g:deoplete#enable_ignore_case = 1
let g:deoplete#enable_smart_case = 1
let g:deoplete#enable_camel_case = 1
let g:deoplete#enable_refresh_always = 1
let g:deoplete#max_abbr_width = 0
let g:deoplete#max_menu_width = 0
let g:deoplete#sources#ternjs#tern_bin = '/usr/bin/tern'
let g:deoplete#sources#ternjs#timeout = 1
let g:tern#command = ["tern"]
let g:tern#arguments = ["--persistent"]
